https://developer.mbed.org/users/switches/code/SerialInterface/#bc8d6816839f
